<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>js_practice</title>
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <div id="characters">
        <span id="typed"></span><span id="untyped">HelloWorld</span><br>
    </div>
    <script>
        const typedField = document.getElementById('typed');
        const untypedField = document.getElementById('untyped');

        const strs = [
            "Helloworld",
            "Googlechrome",
            "Apple",
            "Facebook",
            "javascript"
        ]

        function randomInt(max){
            return Math.floor(Math.random() * Math.floor(max));
        }

        function nextString(){
            const idx = randomInt(strs.length);
            return strs[idx];
        }

        function updateTextField(){
            typedField.textContent = typed;
            untypedField.textContent = untyped;
        };

        function next(){
            typed = "";
            untyped = nextString();
            updateTextField();
        }

        document.addEventListener('keydown', function(e){
            if(e.key !== untyped.substring(0,1)){ return; }
            typed += untyped.substring(0,1);
            untyped = untyped.substring(1);

            updateTextField();

            if (untyped === ""){
                next();
            }


        });

        next();

    </script>
</body>
</html>